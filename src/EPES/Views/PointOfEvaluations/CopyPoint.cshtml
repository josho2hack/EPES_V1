@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Microsoft.AspNetCore.Identity
@model EPES.ViewModels.ResultViewModel
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "คัดลอกแผนปฏิบัติราชการ";
    var user = await UserManager.GetUserAsync(User);

    List<string> userOffices = ViewBag.UserOffices;
}


<link href="~/css/devextreme/dx.common.css" rel="stylesheet" />
<link href="~/css/devextreme/dx.light.css" rel="stylesheet" />
@*<script src="~/js/devextreme/jquery.js"></script>*@
<script src="~/js/devextreme/cldr.js"></script>
<script src="~/js/devextreme/cldr/event.js"></script>
<script src="~/js/devextreme/cldr/supplemental.js"></script>
<script src="~/js/devextreme/cldr/unresolved.js"></script>
<script src="~/js/devextreme/globalize.js"></script>
<script src="~/js/devextreme/globalize/message.js"></script>
<script src="~/js/devextreme/globalize/number.js"></script>
<script src="~/js/devextreme/globalize/currency.js"></script>
<script src="~/js/devextreme/globalize/date.js"></script>
<!-- Uncomment to enable the client-side export feature -->
<!-- script src="~/js/devextreme/jszip.js"></script -->
<!-- Uncomment to provide geo-data for the VectorMap control -->
<!-- script src="~/js/devextreme/vectormap-data/world.js"></script -->
<script src="~/js/devextreme/dx.all.js"></script>
<script src="~/js/devextreme/aspnet/dx.aspnet.mvc.js"></script>
<script src="~/js/devextreme/aspnet/dx.aspnet.data.js"></script>

<div class="container-fluid">
    <h1 class="h3 mb-2 text-gray-800">คัดลอกแผนปฏิบัติราชการ</h1>
    <p class="mb-4">ปีงบประมาณ @Model.yearPoint</p>
    <form asp-action="CopyPoint">
        <div class="row justify-content-between">
            <div class="form-group form-inline">
                <label class="form-label text-md-right">หน่วยงาน: </label>
                <select asp-for="selectoffice" class="form-control" asp-items="ViewBag.OfficeCode" onchange="this.form.submit()">
                    <option value="">เลือกหน่วยงาน</option>
                </select>
            </div>
        </div>
    </form>
    <form asp-action="CopyingPoint">
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">ตัวชี้วัด</h6>
                    </div>
                    <div class="card-body">
                        @if (Model.pointA != null)
                        {
                            @for (int ii = 0; ii < Model.pointA.Count(); ii++)
                            {
                                <div class="form-check">
                                    <input type="checkbox" asp-for="pointA[ii].isSelectedToCopy" class="form-check-input" />
                                    <label class="form-check-label">
                                        @if (Model.pointA[ii].SubPoint != 0)
                                        {
                                            @Html.DisplayFor(modelItem => Model.pointA[ii].Point)@:.@Html.DisplayFor(modelItem => Model.pointA[ii].SubPoint)
                                        }
                                        else
                                        {
                                            @Html.DisplayFor(modelItem => Model.pointA[ii].Point)
                                        }
                                        @Html.DisplayFor(modelItem => Model.pointA[ii].Name)
                                    </label>
                                </div>
                                <input type="hidden" asp-for="pointA[ii].Id" />
                                <input type="hidden" asp-for="pointA[ii].Point" />
                                <input type="hidden" asp-for="pointA[ii].SubPoint" />
                            }
                        }
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">หน่วยงานปลายทาง</h6>
                    </div>
                    <div class="card-body">
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="0" class="form-check-input" />
                            <label class="form-check-label">ทุกหน่วยงาน</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="1" class="form-check-input" />
                            <label class="form-check-label">กอง กลุ่ม ศูนย์</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="2" class="form-check-input" />
                            <label class="form-check-label">กองตรวจสอบภาษีกลาง</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="3" class="form-check-input" />
                            <label class="form-check-label">กองบริหารภาษีธุรกิจขนาดใหญ่</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="4" class="form-check-input" />
                            <label class="form-check-label">สรรพากรทั่วประเทศ (ภาค 1 - 12)</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="5" class="form-check-input" />
                            <label class="form-check-label">สรรพากรภาคในกรุงเทพมหานคร (ภาค 1 - 3)</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="6" class="form-check-input" />
                            <label class="form-check-label">สรรพากรภาคต่างจังหวัด (ภาค 4 - 12)</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="7" class="form-check-input" />
                            <label class="form-check-label">สรรพากรพื้นที่ทั่วประเทศ (119 สท.)</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="8" class="form-check-input" />
                            <label class="form-check-label">สรรพากรพื้นที่ในกรุงเทพมหานคร (30 สท.)</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" asp-for="destoffice" value="9" class="form-check-input" />
                            <label class="form-check-label">สรรพากรพื้นที่ต่างจังหวัด (89 สท.)</label>
                        </div>
                        <div class="col-12 text-right">
                            <input type="submit" value="คัดลอก" class="btn btn-primary px-3" />
                            <input type="hidden" asp-for="selectoffice" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

@if (ViewBag.message != null)
{
    <script type="text/javascript">
        alert("@Html.Raw(ViewBag.message)")
    </script>
}